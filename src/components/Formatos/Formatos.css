/* ==========================================================================
   1) Scope y TOKENS: mismos valores en claro y oscuro (forzado)
   ========================================================================== */

.tg-card.tg-scope{
  /* aislamos el tema y forzamos controles nativos en claro */
  color-scheme: light;
  isolation: isolate;

  /* TOKENS del sistema */
  --bg: #ffffff;
  --surface: #ffffff;
  --border: #e5e7eb;
  --ink: #0f172a;
  --muted: #64748b;
  --field-bg: #f8fafc;
  --field-bg-disabled: #f1f5f9;
  --ring: rgba(37, 99, 235, .35);
  --primary: #2563eb;
  --primary-ink: #ffffff;
  --danger: #dc2626;
  --radius: 14px;
  --shadow: 0 12px 28px rgba(2, 6, 23, .08);
}

/* Mantenemos exactamente los mismos tokens si el SO está en oscuro */
@media (prefers-color-scheme: dark){
  .tg-card.tg-scope{
    --bg: #ffffff !important;
    --surface: #ffffff !important;
    --border: #e5e7eb !important;
    --ink: #0f172a !important;
    --muted: #64748b !important;
    --field-bg: #f8fafc !important;
    --field-bg-disabled: #f1f5f9 !important;
    --ring: rgba(37, 99, 235, .35) !important;
    --primary: #2563eb !important;
    --primary-ink: #ffffff !important;
    --danger: #dc2626 !important;
    --radius: 14px !important;
    --shadow: 0 12px 28px rgba(2, 6, 23, .08) !important;
  }
}

/* ==========================================================================
   2) Tarjeta contenedora y layout base
   ========================================================================== */

.tg-card{
  position: relative;                 /* necesario para posicionar el select */
  background: var(--surface);
  color: var(--ink);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 20px;
  /* espacio superior extra para que el select no tape el contenido */
  padding-top: 72px;
  max-width: 920px;
  width: 100%;
  box-sizing: border-box;
}

/* ==========================================================================
   3) Selector arriba a la derecha + etiqueta accesible
   ========================================================================== */

/* La etiqueta queda solo para lectores, ya que el control va fijo arriba */
.tg-label{
  position: absolute !important;
  width: 1px; height: 1px;
  padding: 0; margin: -1px;
  overflow: hidden; clip: rect(0,0,0,0);
  white-space: nowrap; border: 0;
}

/* Select flotando arriba a la derecha dentro de la tarjeta */
.tg-select{
  position: absolute;
  top: 16px;
  right: 16px;
  min-width: 320px;

  appearance: none;
  background: var(--field-bg);
  color: var(--ink);
  border: 1px solid var(--border);
  border-radius: calc(var(--radius) - 6px);
  padding: 10px 36px 10px 12px;
  font: inherit;
  line-height: 1.2;
  box-sizing: border-box;

  /* icono de flecha embebido */
  background-image:
    url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 24 24' fill='none' stroke='%2364778b' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><polyline points='6 9 12 15 18 9'/></svg>");
  background-repeat: no-repeat;
  background-position: right 10px center;
  background-size: 18px 18px;
}

/* Estados del select */
.tg-select:focus{
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 4px var(--ring);
}
.tg-select:disabled{
  background: var(--field-bg-disabled);
  color: var(--muted);
  cursor: not-allowed;
}

/* Responsive: en pantallas pequeñas lo hacemos bloque completo arriba */
@media (max-width: 560px){
  .tg-card{ padding-top: 108px; }
  .tg-select{
    min-width: 100%;
    left: 16px;
    right: 16px;
  }
}

/* ==========================================================================
   4) Bloque de Términos y condiciones
   ========================================================================== */

.tg-terms{
  display: grid;
  gap: 14px;
}

.tg-terms h3{
  margin: 0;
  font-size: 18px;
  font-weight: 800;
  color: var(--ink);
}

/* Contenedor del HTML controlado */
.tg-terms-text{
  background: var(--field-bg);
  border: 1px solid var(--border);
  border-radius: calc(var(--radius) - 6px);
  padding: 14px 16px;
  color: var(--ink);
  line-height: 1.45;
  max-height: 320px;             /* protege el layout si el texto es largo */
  overflow: auto;
}

/* Estética del HTML interno */
.tg-terms-text p{ margin: 0 0 8px 0; }
.tg-terms-text ul{ margin: 0 0 8px 20px; padding: 0; }
.tg-terms-text li{ margin: 6px 0; color: var(--muted); }

/* ==========================================================================
   5) Check de aceptación
   ========================================================================== */

.tg-check{
  display: inline-flex;
  align-items: center;
  gap: 10px;
  user-select: none;
  color: var(--ink);
}
.tg-check input{
  width: 18px; height: 18px;
  accent-color: var(--primary);
}

/* ==========================================================================
   6) Acciones (Continuar / Cancelar)
   ========================================================================== */

.tg-actions{
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

/* Botón primario */
.tg-btn-primary{
  appearance: none;
  background: var(--primary);
  color: var(--primary-ink);
  border: 1px solid var(--primary);
  border-radius: calc(var(--radius) - 8px);
  padding: 10px 14px;
  font-weight: 700;
  cursor: pointer;
  transition: box-shadow .15s ease, transform .06s ease, opacity .2s ease;
}
.tg-btn-primary:hover{ box-shadow: 0 0 0 4px var(--ring); }
.tg-btn-primary:active{ transform: translateY(1px); }
.tg-btn-primary:disabled{
  opacity: .6;
  cursor: default;
  box-shadow: none;
}

/* Botón secundario tipo ghost */
.tg-btn-ghost{
  appearance: none;
  background: transparent;
  color: var(--ink);
  border: 1px solid var(--border);
  border-radius: calc(var(--radius) - 8px);
  padding: 10px 14px;
  font-weight: 600;
  cursor: pointer;
  transition: box-shadow .15s ease, transform .06s ease;
}
.tg-btn-ghost:hover{ box-shadow: 0 0 0 4px var(--ring); }
.tg-btn-ghost:active{ transform: translateY(1px); }

/* ==========================================================================
   7) Accesibilidad y scrollbars
   ========================================================================== */

.tg-terms-text{
  scrollbar-width: thin;
  scrollbar-color: var(--border) transparent;
}
.tg-terms-text::-webkit-scrollbar{ height: 10px; width: 10px; }
.tg-terms-text::-webkit-scrollbar-thumb{
  background: var(--border);
  border-radius: 999px;
}
.tg-terms-text::-webkit-scrollbar-track{ background: transparent; }

/* ========= Quitar fondo del card ========= */
/* El componente queda sin fondo, sin borde y sin sombra */
.tg-card.tg-scope{
  background: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
  /* mantenemos el espacio superior para el select fijo */
  padding: 0 0 0 0 !important;
  padding-top: 72px !important;
}

/* El select conserva su propio estilo y fondo */
.tg-select{
  background: var(--field-bg);
  border: 1px solid var(--border);
}

/* El bloque de Términos sigue teniendo fondo suave para legibilidad */
.tg-terms-text{
  background: var(--field-bg);
  border: 1px solid var(--border);
}
