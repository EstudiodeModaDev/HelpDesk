/* ====== GRID: 3 columnas y posicionamiento ====== */
.form-grid{
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 12px;
}

/* Por defecto, cada campo ocupa 1 columna */
.campo, .form-group { grid-column: span 1; }

/* (1) Seleccionar compra: fila completa */
.form-group:has(#compraSelect){
  grid-column: 1 / -1;
}

/* (2) Proveedor: label arriba (full), select a la izq y botón a la derecha */
.form-group:has(#proveedor-select){
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: end;
  column-gap: 12px;
}
.form-group:has(#proveedor-select) > label{
  grid-column: 1 / -1;     /* label ocupa toda la fila */
  margin-bottom: 6px;
}
.form-group:has(#proveedor-select) > select{
  grid-column: 1 / 2;      /* select a la izquierda */
}
.form-group:has(#proveedor-select) > .btn-nuevo-proveedor{
  grid-column: 2 / 3;      /* botón a la derecha */
  height: 44px;            /* alinea con el select */
}

/* (3) Fecha de emisión · No. Factura · NIT */
/* Ya quedan en orden por el DOM; solo aseguramos 1 columna cada uno */
.campo:has(input[name="FechaEmision"]) { grid-column: auto; }
.campo:has(input[name="NoFactura"])     { grid-column: auto; }
.campo:has(input[name="Title"])         { grid-column: auto; }

/* (4) Ítem (RS) · Descripción del ítem · Valor antes de IVA */
.campo:has(.rs-override)                { grid-column: auto; }   /* Ítem (React-Select) */
.campo:has(textarea[name="DescripItems"]){ grid-column: auto; }
.campo:has(input[name="ValorAnIVA"])    { grid-column: auto; }

/* (5) C.C · C.O · U.N (todos son React-Select) */
.campo:has(.rs-override) { /* ya en DOM tras Ítem; se llenan siguientes columnas */ }

/* (6) Detalle · Fecha contabilidad · Doc ERP */
.campo:has(textarea[name="DetalleFac"]) { grid-column: auto; }
.campo:has(input[name="FecEntregaCont"]){ grid-column: auto; }
.campo:has(input[name="DocERP"])        { grid-column: auto; }

/* (7) Observaciones: fila completa */
.campo:has(textarea[name="Observaciones"]){
  grid-column: 1 / -1;
}

/* (8) Botones: fila completa */
.botones-container{
  grid-column: 1 / -1;
  display: flex;
  gap: 12px;
  margin-top: 6px;
}

/* Responsive: en pantallas estrechas, una sola columna */
@media (max-width: 900px){
  .form-grid{ grid-template-columns: 1fr; }
  .campo, .form-group,
  .form-group:has(#compraSelect),
  .form-group:has(#proveedor-select),
  .campo:has(textarea[name="Observaciones"]),
  .botones-container{
    grid-column: 1 / -1;
  }
  /* en móvil, el proveedor queda apilado: label, select, botón */
  .form-group:has(#proveedor-select){
    grid-template-columns: 1fr;
    row-gap: 8px;
  }
  .form-group:has(#proveedor-select) > .btn-nuevo-proveedor{
    width: 100%;
  }
}
