/* ===== ActaToggle.css — toggle SIEMPRE CLARO, aislado y accesible ===== */

/* Scope: el contenedor del toggle (label.acta-toggle) */
.acta-toggle{
  /* Persistencia de tema claro a nivel de UA */
  color-scheme: light !important;
  isolation: isolate;

  /* ===== Variables locales (puedes subirlas a :root si quieres globalizarlas) ===== */
  --track-off: #d1d5db;         /* gris off */
  --track-on: #2563eb;          /* azul on */
  --knob: #ffffff;              /* color del “punto” */
  --ring-shadow: 0 0 0 3px rgba(37,99,235,.25);
  --size: 24px;                 /* alto del switch */
  --knob-gap: 3px;              /* padding interno del track */
  --label-color: #0b2b3a;
  --label-dim: #475569;
  --disabled: #cbd5e1;
  --disabled-text: #94a3b8;

  display: inline-flex;
  align-items: center;
  gap: 10px;
  font-weight: 600;
  color: var(--label-color);
  user-select: none;
  cursor: pointer;

  /* Blindajes contra efectos heredados */
  mix-blend-mode: normal !important;
  filter: none !important;
  opacity: 1 !important;
}

/* Ajuste fino cuando el layout global está en oscuro (sin romper el modo claro) */
.dark .acta-toggle{
  color-scheme: light !important;
  --track-off: #cfd6dd;      /* un gris un poco más marcado para mejor contraste sobre fondos oscuros */
  --label-dim: #667085;
}

/* Ocultar el checkbox nativo pero mantenerlo accesible */
.acta-toggle > input{
  position: absolute;
  opacity: 0;
  width: 0;
  height: 0;
}

/* ===== Switch (track + knob) ===== */
.acta-switch{
  position: relative;
  display: inline-block;
  height: var(--size);
  width: calc(var(--size) * 1.8333); /* ~44px cuando size=24px */
  border-radius: 999px;
  background: var(--track-off);
  transition: background .18s ease;
  box-shadow: inset 0 0 0 1px rgba(0,0,0,.05);
}

/* Knob */
.acta-switch::after{
  content: "";
  position: absolute;
  top: var(--knob-gap);
  left: var(--knob-gap);
  width: calc(var(--size) - var(--knob-gap) * 2);
  height: calc(var(--size) - var(--knob-gap) * 2);
  background: var(--knob);
  border-radius: 999px;
  box-shadow: 0 1px 2px rgba(0,0,0,.2);
  transition: transform .18s ease;
  will-change: transform;
}

/* ===== Estados ===== */

/* ON */
.acta-toggle > input:checked + .acta-switch{
  background: var(--track-on);
}
.acta-toggle > input:checked + .acta-switch::after{
  transform: translateX(calc(100% + var(--knob-gap) * -2));
}

/* Foco accesible (al tabear) */
.acta-toggle > input:focus-visible + .acta-switch{
  box-shadow: var(--ring-shadow);
}

/* Deshabilitado */
.acta-toggle > input:disabled + .acta-switch{
  background: var(--disabled);
  cursor: not-allowed;
}
.acta-toggle > input:disabled + .acta-switch::after{
  box-shadow: none;
}
.acta-toggle > input:disabled ~ span:last-child{
  color: var(--disabled-text);
  cursor: not-allowed;
}

/* Estado indeterminado (si lo usas) */
.acta-toggle > input:indeterminate + .acta-switch{
  background: linear-gradient(90deg, var(--track-off), var(--track-on));
}

/* Etiqueta (texto) */
.acta-toggle > span:last-child{
  line-height: 1.1;
  color: var(--label-color);
}
.acta-toggle:hover > span:last-child{
  color: var(--label-dim);
}

/* ===== Tamaños opcionales ===== */
.acta-toggle.is-sm{ --size: 20px; --knob-gap: 2px; }
.acta-toggle.is-lg{ --size: 28px; --knob-gap: 3px; }

/* ===== Respeta reduce motion ===== */
@media (prefers-reduced-motion: reduce){
  .acta-switch, .acta-switch::after{ transition: none; }
}
